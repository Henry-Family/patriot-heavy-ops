(()=>{var e={};e.id=8748,e.ids=[8748],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},26234:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>l,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>p});var r=s(67096),a=s(16132),i=s(37284),n=s.n(i),o=s(32564),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let p=["",{children:["(dashboard)",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,39605)),"/Users/samhenry/patriot-heavy-ops/patriot-heavy-ops/app/(dashboard)/dashboard/settings/page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,55650)),"/Users/samhenry/patriot-heavy-ops/patriot-heavy-ops/app/(dashboard)/dashboard/settings/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,52490)),"/Users/samhenry/patriot-heavy-ops/patriot-heavy-ops/app/(dashboard)/dashboard/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,44014)),"/Users/samhenry/patriot-heavy-ops/patriot-heavy-ops/app/(dashboard)/dashboard/loading.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[async e=>(await Promise.resolve().then(s.bind(s,83735))).default(e)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,61831)),"/Users/samhenry/patriot-heavy-ops/patriot-heavy-ops/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[async e=>(await Promise.resolve().then(s.bind(s,83735))).default(e)],twitter:[],manifest:void 0}}],u=["/Users/samhenry/patriot-heavy-ops/patriot-heavy-ops/app/(dashboard)/dashboard/settings/page.tsx"],c="/(dashboard)/dashboard/settings/page",l={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/dashboard/settings/page",pathname:"/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},40401:(e,t,s)=>{Promise.resolve().then(s.bind(s,88877)),Promise.resolve().then(s.t.bind(s,6800,23))},88877:(e,t,s)=>{"use strict";s.r(t),s.d(t,{UserNameForm:()=>UserNameForm});var r=s(30784),a=s(9885),i=s(57114),n=s(83894),o=s(66558),d=s(77764),p=s(97342);let u=p.Ry({name:p.Z_().min(3).max(32)});var c=s(95555),l=s(20599),m=s(33770),h=s(32451),x=s(12025),g=s(15482);function UserNameForm({user:e,className:t,...s}){let p=(0,i.useRouter)(),{handleSubmit:b,register:y,formState:{errors:v}}=(0,o.cI)({resolver:(0,n.F)(u),defaultValues:{name:e?.name||""}}),[f,q]=a.useState(!1);async function onSubmit(t){q(!0);let s=await fetch(`/api/users/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name})});if(q(!1),!s?.ok)return(0,x.Am)({title:"Something went wrong.",description:"Your name was not updated. Please try again.",variant:"destructive"});(0,x.Am)({description:"Your name has been updated."}),p.refresh()}return r.jsx("form",{className:(0,d.cn)(t),onSubmit:b(onSubmit),...s,children:(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[r.jsx(l.ll,{children:"Your Name"}),r.jsx(l.SZ,{children:"Please enter your full name or a display name you are comfortable with."})]}),r.jsx(l.aY,{children:(0,r.jsxs)("div",{className:"grid gap-1",children:[r.jsx(h._,{className:"sr-only",htmlFor:"name",children:"Name"}),r.jsx(m.I,{id:"name",className:"w-[400px]",size:32,...y("name")}),v?.name&&r.jsx("p",{className:"px-1 text-xs text-red-600",children:v.name.message})]})}),r.jsx(l.eW,{children:(0,r.jsxs)("button",{type:"submit",className:(0,d.cn)((0,c.d)(),t),disabled:f,children:[f&&r.jsx(g.P.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),r.jsx("span",{children:"Save"})]})})]})})}},55650:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>DashboardSettingsLoading});var r=s(4656),a=s(77567),i=s(51439),n=s(71941);function DashboardSettingsLoading(){return(0,r.jsxs)(n.r,{children:[r.jsx(i.x,{heading:"Settings",text:"Manage account and website settings."}),r.jsx("div",{className:"grid gap-10",children:r.jsx(a.q,{})})]})}},39605:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>SettingsPage,metadata:()=>h});var r=s(4656),a=s(41412),i=s(8192),n=s(23949),o=s(51439),d=s(71941),p=s(95153);let u=(0,p.createProxy)(String.raw`/Users/samhenry/patriot-heavy-ops/patriot-heavy-ops/components/user-name-form.tsx`),{__esModule:c,$$typeof:l}=u;u.default;let m=u.UserNameForm,h={title:"Settings",description:"Manage account and website settings."};async function SettingsPage(){let e=await (0,n.t)();return e||(0,a.redirect)(i.L?.pages?.signIn||"/login"),(0,r.jsxs)(d.r,{children:[r.jsx(o.x,{heading:"Settings",text:"Manage account and website settings."}),r.jsx("div",{className:"grid gap-10",children:r.jsx(m,{user:{id:e.id,name:e.name||""}})})]})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[6889,874,558,1323,4596,6914,7046,4284,1412,512,9383,488,4658,8202,8192,4212,6496,2285,2107,1451],()=>__webpack_exec__(26234));module.exports=s})();