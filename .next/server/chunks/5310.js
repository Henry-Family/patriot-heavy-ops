"use strict";exports.id=5310,exports.ids=[5310],exports.modules={56840:(e,r,t)=>{t.d(r,{H:()=>n,R:()=>s});var i=t(74658);let s={name:"Free",description:"The free plan is limited to 3 posts. Upgrade to the PRO plan for unlimited posts.",stripePriceId:""},n={name:"PRO",description:"The PRO plan has unlimited posts.",stripePriceId:i.O.STRIPE_PRO_MONTHLY_PLAN_ID||""}},15310:(e,r,t)=>{t.d(r,{b:()=>getUserSubscriptionPlan});var i=t(56840),s=t(69363);async function getUserSubscriptionPlan(e){let r=await s.db.user.findFirst({where:{id:e},select:{stripeSubscriptionId:!0,stripeCurrentPeriodEnd:!0,stripeCustomerId:!0,stripePriceId:!0}});if(!r)throw Error("User not found");let t=r.stripePriceId&&r.stripeCurrentPeriodEnd?.getTime()+864e5>Date.now(),n=t?i.H:i.R;return{...n,...r,stripeCurrentPeriodEnd:r.stripeCurrentPeriodEnd?.getTime(),isPro:t}}}};