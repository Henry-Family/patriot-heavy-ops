"use strict";exports.id=8192,exports.ids=[8192],exports.modules={8192:(e,i,a)=>{a.d(i,{L:()=>T});var r=a(28690),t=a(83603),s=a(90596),l=a(43516),n=a(74658),d=a(22601),m=a(69363);let o=new l.KU(n.O.POSTMARK_API_TOKEN||""),T={adapter:(0,r.N)(m.db),session:{strategy:"jwt"},pages:{signIn:"/login"},providers:[(0,s.Z)({clientId:n.O.GITHUB_CLIENT_ID||"",clientSecret:n.O.GITHUB_CLIENT_SECRET||""}),(0,t.Z)({from:n.O.SMTP_FROM||"",sendVerificationRequest:async({identifier:e,url:i,provider:a})=>{let r=await m.db.user.findUnique({where:{email:e},select:{emailVerified:!0}}),t=r?.emailVerified?n.O.POSTMARK_SIGN_IN_TEMPLATE||"":n.O.POSTMARK_ACTIVATION_TEMPLATE||"";if(!t)throw Error("Missing template id");let s=await o.sendEmailWithTemplate({TemplateId:parseInt(t),To:e,From:a.from,TemplateModel:{action_url:i,product_name:d.J.name},Headers:[{Name:"X-Entity-Ref-ID",Value:new Date().getTime()+""}]});if(s.ErrorCode)throw Error(s.Message)}})],callbacks:{session:async({token:e,session:i})=>(e&&(i.user.id=e.id,i.user.name=e.name,i.user.email=e.email,i.user.image=e.picture),i),async jwt({token:e,user:i}){let a=await m.db.user.findFirst({where:{email:e.email}});return a?{id:a.id,name:a.name,email:a.email,picture:a.image}:(i&&(e.id=i?.id),e)}}}},69363:(e,i,a)=>{let r;a.d(i,{db:()=>t}),r=new(a(53524)).PrismaClient;let t=r}};