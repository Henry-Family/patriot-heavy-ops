<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="14" failures="2" errors="0" time="0.813">
  <testsuite name="/api/auth/mobile/login" errors="0" failures="2" skipped="0" timestamp="2025-09-24T23:51:17" time="0.348" tests="14">
    <testcase classname="/api/auth/mobile/login POST should successfully login with valid credentials" name="/api/auth/mobile/login POST should successfully login with valid credentials" time="0.031">
      <failure>Error: expect(jest.fn()).toHaveBeenCalledWith(...expected)

- Expected
+ Received

@@ -1,9 +1,10 @@
  Object {
    &quot;select&quot;: Object {
      &quot;email&quot;: true,
      &quot;id&quot;: true,
+     &quot;image&quot;: true,
      &quot;name&quot;: true,
      &quot;password&quot;: true,
      &quot;role&quot;: true,
    },
    &quot;where&quot;: Object {,

Number of calls: 1
    at Object.toHaveBeenCalledWith (/Users/samhenry/patriot-heavy-ops/patriot-heavy-ops/__tests__/api/auth/mobile/login.test.ts:103:26)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should return 401 for invalid email" name="/api/auth/mobile/login POST should return 401 for invalid email" time="0.01">
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should return 401 for user without password" name="/api/auth/mobile/login POST should return 401 for user without password" time="0.007">
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should return 401 for invalid password" name="/api/auth/mobile/login POST should return 401 for invalid password" time="0.004">
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should return 400 for invalid request data" name="/api/auth/mobile/login POST should return 400 for invalid request data" time="0.005">
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should return 400 for missing email" name="/api/auth/mobile/login POST should return 400 for missing email" time="0.003">
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should return 400 for missing password" name="/api/auth/mobile/login POST should return 400 for missing password" time="0.003">
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should handle database errors gracefully" name="/api/auth/mobile/login POST should handle database errors gracefully" time="0.006">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: 500
Received: 401
    at Object.toBe (/Users/samhenry/patriot-heavy-ops/patriot-heavy-ops/__tests__/api/auth/mobile/login.test.ts:238:31)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</failure>
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should handle malformed JSON gracefully" name="/api/auth/mobile/login POST should handle malformed JSON gracefully" time="0.003">
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should apply rate limiting" name="/api/auth/mobile/login POST should apply rate limiting" time="0.001">
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should normalize email to lowercase" name="/api/auth/mobile/login POST should normalize email to lowercase" time="0.001">
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should generate tokens with correct payload" name="/api/auth/mobile/login POST should generate tokens with correct payload" time="0.001">
    </testcase>
    <testcase classname="/api/auth/mobile/login POST should handle user with no role" name="/api/auth/mobile/login POST should handle user with no role" time="0.002">
    </testcase>
    <testcase classname="/api/auth/mobile/login GET should return 405 Method Not Allowed" name="/api/auth/mobile/login GET should return 405 Method Not Allowed" time="0">
    </testcase>
  </testsuite>
</testsuites>